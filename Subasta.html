<!DOCTYPE html>
<html>

    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
        
    </head>
    <body >
        <h1 class="text-center ">
            Subastas online
        </h1>
        <p class="text-center" >
            El mejor sitio de subastas online.
        </p>
        
        <!-- Log in usuario-->
        <div id="ingreso" class="container mt-5">
        <form class="p-4 border rounded shadow" style="max-width: 400px; margin: auto;" onsubmit="ingresarUsuario(event)">
                <div class="text-center mb-2">
                    <label for="correoIni" class="form-label">Correo:</label>
                    <input type="text" id="correoIni" name="correoIni" required>
                </div> 
                <div class="text-center" >
                    <label for="contraseñaIni" class="form-label">Contraseña: </label>
                    <input type="text" id="contraseñaIni" name="contraseñaIni" aria-describedby="info" required>
                    <div 
                    id="info" class="form-text"> No compartas estos datos
                </div>
            </div>

            <div class="text-center">

                <button type="submit" id="ini" class="btn btn-outline-primary">Ingresar</button>
            </div>
        </form>
        <div class="text-center" >
            <button type="button" id="noIni" class="btn btn-outline-dark" onclick="mostrarRegistro()">No tengo una cuenta😞</button>
        </div>
        <!-- Registro usuario -->
    </div>
    <div id="registro" style="display: none;" class="container mt-5">
        <form class="p-4 border rounded shadow" style="max-width: 400px; margin: auto;" onsubmit="registrarUsuario(event)">
            <div class="text-center mb-2">
                <label for="correoReg" class="form-label">Ingrese un correo: </label>
                <input type="text" id="correoReg" name="correoReg" required>
            </div> 
            <div class="text-center" class="mb-3">
                <label for="contraseñaReg" class="form-label">Cree una contraseña: </label>
                <input type="text" id="contraseñaReg" name="contraseñareg" required>
            </div>
            
            <div class="text-center">
                <button type="submit" id="cre" class="btn btn-outline-primary" >Registrarme</button>
            </div>
            
        </form>
        <div class="text-center">
            <button type="button" id="noCre" class="btn btn-outline-dark" onclick="mostrarLogin()">Ya tengo una cuenta😊</button>
        </div>
        
    </div>
    <script>
        function mostrarRegistro() {
            document.getElementById("ingreso").style.display = "none";
            document.getElementById("registro").style.display = "block";
        }

        function mostrarLogin() {
            document.getElementById("registro").style.display = "none";
            document.getElementById("ingreso").style.display = "block";
        }

        function registrarUsuario(event){
            event.preventDefault();
            const correo = document.getElementById("correoReg").value;
            const contraseña = document.getElementById("contraseñaReg").value;

            let usuarios = JSON.parse(localStorage.getItem("usuarios")) || [];
            usuarios.push({correo, contraseña});
            localStorage.setItem("usuarios", JSON.stringify(usuarios));

            alert("Su cuenta ha sido creada con exito 😊")
            mostrarLogin();
        }
        
        function ingresarUsuario(event){
            event.preventDefault();
            const correo = document.getElementById("correoIni").value;
            const contraseña = document.getElementById("contraseñaIni").value;

            let usuarios = JSON.parse(localStorage.getItem("usuarios")) || [];
            const usuarioValido = usuarios.find(u => u.correo === correo && u.contraseña === contraseña);

            if (usuarioValido){
                alert("Bienvenido 🎉 ¡Que comiencen las pujas!")
                window.location.replace("inicio.html");
;
            }
            else{
                alert("Correo o contraseña invalidos 😞")
            }
        }


        localStorage.setItem("usuario", JSON.stringify({correo: correo, contraseña: contraseña}));

        const usuarioI = JSON.parse(localStorage.getItem("usuario"));
        if(usuarioI.correo === correoInput && user.contraseña == passInput){
            alert("Bienvenido. Quen inicien la pujas!!!")
        }



    
    </script>
    <!--Otra cosa-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
</body>
</html>